<!-- Cabecera -->
<div class="row g-3 align-items-center mb-3">
    <div class="col-12 col-md-8">
        <div class="card shadow-sm" *ngIf="cliente">
            <div class="card-body">
                <h5 class="card-title mb-1">
                    ¡Hola, {{ cliente.nombre }} {{ cliente.apellidos }}!
                </h5>
                <small class="text-muted">Resumen de tu cuenta</small>
                <div class="mt-3">
                    <span class="fw-semibold">Saldo restante: </span>
                    <span class="badge text-bg-success fs-6">
                        {{ cliente.creditos | currency:'COP':'symbol':'1.0-0' }}
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Tabla de Fondos -->
<div class="card shadow-sm" *ngIf="fondos.length > 0">
    <div class="card-body">
        <h5 class="card-title mb-3">Fondos disponibles</h5>

        <div class="table-responsive">
            <table class="table table-hover align-middle">
                <thead class="table-light">
                    <tr>
                        <th>#</th>
                        <th>Nombre</th>
                        <th>Monto mínimo</th>
                        <th class="text-end">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    @for (f of fondos; track f.id) {
                    <tr>
                        <td>{{ f.id }}</td>
                        <td>{{ f.nombre }}</td>
                        <td>{{ f.montoVinculacion | currency:'COP':'symbol':'1.0-0' }}</td>
                        <td class="text-end">
                            @if (f.suscrito) {
                            <button type="button" class="btn btn-sm btn-outline-danger" [disabled]="f.loading"
                                (click)="onClickAccion(f)">
                                @if (f.loading) {
                                <span class="spinner-border spinner-border-sm me-1" role="status"
                                    aria-hidden="true"></span>
                                }
                                Anular suscripción
                            </button>
                            } @else {
                            <button type="button" class="btn btn-sm btn-success" [disabled]="f.loading"
                                (click)="onClickAccion(f)">
                                @if (f.loading) {
                                <span class="spinner-border spinner-border-sm me-1" role="status"
                                    aria-hidden="true"></span>
                                }
                                Suscribirme
                            </button>
                            }
                        </td>
                    </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>